{
	"info": {
		"_postman_id": "9ba27e01-63fe-4d43-a60f-82aa971af91f",
		"name": "elasticsearch sandbox",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "create index",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe.us-east-1.es.amazonaws.com/resources-daniel-test/",
					"protocol": "https",
					"host": [
						"search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe",
						"us-east-1",
						"es",
						"amazonaws",
						"com"
					],
					"path": [
						"resources-daniel-test",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "list indexes",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe.us-east-1.es.amazonaws.com/_cat/indices?v",
					"protocol": "https",
					"host": [
						"search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe",
						"us-east-1",
						"es",
						"amazonaws",
						"com"
					],
					"path": [
						"_cat",
						"indices"
					],
					"query": [
						{
							"key": "v",
							"value": null
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "create mapping",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n   \"properties\" : {\n      \"uri\": {\n    \t\"type\": \"keyword\",\n    \t\"index\": \"true\"\n      },\n      \"subjectLiteral\" : {\n         \"index\" : true,\n         \"fields\" : {\n            \"raw\" : {\n               \"eager_global_ordinals\" : true,\n               \"type\" : \"keyword\"\n            },\n            \"folded\" : {\n               \"type\" : \"text\",\n               \"analyzer\" : \"folding\"\n            }\n         },\n         \"type\" : \"text\"\n      }\n   }\n}"
				},
				"url": {
					"raw": "https://search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe.us-east-1.es.amazonaws.com/resources-daniel-test/_mapping",
					"protocol": "https",
					"host": [
						"search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe",
						"us-east-1",
						"es",
						"amazonaws",
						"com"
					],
					"path": [
						"resources-daniel-test",
						"_mapping"
					]
				}
			},
			"response": []
		},
		{
			"name": "save settings",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{ES_NEW_PASSWORD}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "elastic",
							"type": "string"
						},
						{
							"key": "saveHelperData",
							"type": "any"
						},
						{
							"key": "showPassword",
							"value": false,
							"type": "boolean"
						}
					]
				},
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n   \"analysis\" : {\n      \"analyzer\" : {\n         \"ngram_analyzer\" : {\n            \"tokenizer\" : \"lowercase\",\n            \"type\" : \"custom\",\n            \"filter\" : [\n               \"stop\",\n               \"ngram_filter\"\n            ],\n            \"stopwords\" : [\n               \"a\",\n               \"the\",\n               \"of\",\n               \"in\",\n               \"on\"\n            ]\n         },\n         \"menus_standard\" : {\n            \"stopwords\" : [\n               \"a\",\n               \"the\",\n               \"of\",\n               \"in\",\n               \"on\"\n            ],\n            \"filter\" : [\n               \"stop\",\n               \"lowercase\",\n               \"standard\"\n            ],\n            \"tokenizer\" : \"keyword\",\n            \"type\" : \"standard\"\n         }\n      },\n      \"filter\" : {\n         \"ngram_filter\" : {\n            \"max_gram\" : \"8\",\n            \"min_gram\" : \"4\",\n            \"type\" : \"nGram\"\n         }\n      }\n   }\n}\n"
				},
				"url": {
					"raw": "https://{{ES_NEW_URL}}/{{ES_INDEX}}/_settings",
					"protocol": "https",
					"host": [
						"{{ES_NEW_URL}}"
					],
					"path": [
						"{{ES_INDEX}}",
						"_settings"
					]
				}
			},
			"response": []
		},
		{
			"name": "save document",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"uri\": \"test-record\",\n  \"subjectLiteral\": [\n\t\"foo -- bar\",\n\t\"foo\"\n  ]\n}\n"
				},
				"url": {
					"raw": "https://search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe.us-east-1.es.amazonaws.com/resources-daniel-test/resource",
					"protocol": "https",
					"host": [
						"search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe",
						"us-east-1",
						"es",
						"amazonaws",
						"com"
					],
					"path": [
						"resources-daniel-test",
						"resource"
					]
				}
			},
			"response": []
		},
		{
			"name": "query all",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n   \"query\" : {},\n   \"size\" : 50,\n   \"from\" : 0,\n   \"sort\" : [\n   ],\n   \"_source\" : {\n      \"excludes\" : [\n         \"uris\",\n         \"*_packed\",\n         \"*_sort\",\n         \"items.*_packed\"\n      ]\n   }\n}\n"
				},
				"url": {
					"raw": "https://search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe.us-east-1.es.amazonaws.com/resources-daniel-test/resource/_search",
					"protocol": "https",
					"host": [
						"search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe",
						"us-east-1",
						"es",
						"amazonaws",
						"com"
					],
					"path": [
						"resources-daniel-test",
						"resource",
						"_search"
					]
				}
			},
			"response": []
		},
		{
			"name": "search by filter",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n   \"query\" : {\n      \"function_score\" : {\n         \"query\" : {\n            \"bool\" : {\n               \"filter\" : [\n                  {\n                     \"term\" : {\n                        \"subjectLiteral\" : \"foo\"\n                     }\n                  }\n               ]\n            }\n         }\n      }\n   },\n   \"size\" : 50,\n   \"from\" : 0,\n   \"sort\" : [\n      \"_score\"\n   ],\n   \"_source\" : {\n      \"excludes\" : [\n         \"uris\",\n         \"*_packed\",\n         \"*_sort\",\n         \"items.*_packed\"\n      ]\n   }\n}\n"
				},
				"url": {
					"raw": "https://search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe.us-east-1.es.amazonaws.com/resources-daniel-test/resource/_search",
					"protocol": "https",
					"host": [
						"search-discovery-api-qa-exfqovqmh54mbkqr7cwk4awaqe",
						"us-east-1",
						"es",
						"amazonaws",
						"com"
					],
					"path": [
						"resources-daniel-test",
						"resource",
						"_search"
					]
				}
			},
			"response": []
		}
	]
}
